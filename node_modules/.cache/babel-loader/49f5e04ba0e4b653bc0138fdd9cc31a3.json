{"ast":null,"code":"var _jsxFileName = \"D:\\\\myapi\\\\\\u6301\\u7EED\\u66F4\\u65B0\\\\\\u5F00\\u653E\\u7684API\\u670D\\u52A1\\\\openapi\\u30107.5.00\\uFF1A30\\u3011\\\\openapi\\\\pre\\\\register\\\\src\\\\App.js\";\nimport React from 'react';\nimport 'antd/dist/antd.css';\nimport { Form, Input, Button, Spin, Icon, notification, message, Divider } from 'antd';\nimport QueueAnim from 'rc-queue-anim';\nconst Search = Input.Search;\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      step: 0,\n      loading: false,\n      disable: false,\n      btnText: \"获取验证码\",\n      tel: \"\",\n      code: \"\",\n      vail_tel: {\n        vail: \"\",\n        help: \"\"\n      },\n      vail_code: {\n        vail: \"\",\n        help: \"\"\n      }\n    };\n\n    this.send = () => {\n      const reg = /0?(13|14|15|17|18|19)[0-9]{9}/;\n      if (!reg.test(this.state.tel)) this.setState({\n        vail_tel: {\n          vail: \"error\",\n          help: \"请输入正确的手机号码\"\n        }\n      });else {\n        this.setState({\n          disable: true,\n          vail_tel: {\n            vail: \"\",\n            help: \"\"\n          }\n        });\n        const that = this;\n        fetch(\"https://openapi.twoyecloud.com/user/Msg_reg\", {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json'\n          },\n          body: this.state.tel\n        }).then(res => res.json()).then(data => {\n          if (data.status == \"SUCCESS\") {\n            message.success(\"验证码已发送，请查收。\");\n            let B = 120;\n            let A = setInterval(() => {\n              B--;\n\n              if (B > 0) {\n                that.setState({\n                  btnText: B + \" S\"\n                });\n              } else {\n                clearInterval(A);\n                that.setState({\n                  disable: false,\n                  btnText: \"获取验证码\"\n                });\n              }\n            }, 1000);\n          } else {\n            message.error(JSON.stringify(data));\n            that.setState({\n              disable: false,\n              btnText: \"获取验证码\"\n            });\n          }\n        }).catch(function (e) {\n          message.error(JSON.parse(e).error);\n          that.setState({\n            disable: false,\n            btnText: \"获取验证码\"\n          });\n        });\n      }\n    };\n\n    this.login = () => {\n      const reg = /0?(13|14|15|17|18|19)[0-9]{9}/;\n      if (!reg.test(this.state.tel)) this.setState({\n        vail_tel: {\n          vail: \"error\",\n          help: \"请输入正确的手机号码\"\n        }\n      });else if (this.state.code == \"\") this.setState({\n        vail_tel: {\n          vail: \"\",\n          help: \"\"\n        },\n        vail_code: {\n          vail: \"error\",\n          help: \"验证码不可以为空！\"\n        }\n      });else {\n        this.setState({\n          loading: true,\n          vail_code: {\n            vail: \"\",\n            help: \"\"\n          }\n        });\n        const that = this;\n        fetch(\"https://openapi.twoyecloud.com/user/GetToken_0\", {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json'\n          },\n          body: JSON.stringify({\n            tel: that.state.tel,\n            usercode: that.state.code\n          })\n        }).then(res => res.json()).then(data => {\n          this.setState({\n            loading: false\n          });\n\n          if (data.status == \"SUCCESS\") {\n            message.success(data.token);\n          } else {\n            message.error(data.res);\n          }\n        }).catch(function (e) {\n          this.setState({\n            loading: false\n          });\n          message.error(JSON.parse(e).error);\n        });\n      }\n    };\n  }\n\n  componentWillMount() {\n    document.title = \"注册 -  涂叶云\";\n    fetch(\"https://openapi.twoyecloud.com/user/preloading\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8'\n      },\n      body: JSON.stringify({})\n    }).then(res => res.json()).then(data => {\n      if (data.status == \"SUCCESS\") this.setState({\n        step: 1\n      });\n    }).catch(function (e) {\n      notification.error({\n        message: '响应错误码：408',\n        duration: null,\n        description: '服务器长时间未给予响应，可能是由于服务器内部错误，也可能是由于您的网络连接不通畅造成的。'\n      });\n    });\n  }\n\n  render() {\n    const styles = React.createElement(\"style\", {\n      jsx: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"\\n        body,html{\\n          overflow-y:hidden;\\n          min-width:960px;\\n          background:#f9f9f9;\\n          padding:0;\\n          margin:0;\\n        }\\n        @font-face {\\n          font-family: 'webfont';\\n          font-display: swap;\\n          src: url('//at.alicdn.com/t/webfont_acozdas8hld.eot'); /* IE9*/\\n          src: url('//at.alicdn.com/t/webfont_acozdas8hld.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\\n          url('//at.alicdn.com/t/webfont_acozdas8hld.woff2') format('woff2'),\\n          url('//at.alicdn.com/t/webfont_acozdas8hld.woff') format('woff'), /* chrome\\u3001firefox */\\n          url('//at.alicdn.com/t/webfont_acozdas8hld.ttf') format('truetype'), /* chrome\\u3001firefox\\u3001opera\\u3001Safari, Android, iOS 4.2+*/\\n          url('//at.alicdn.com/t/webfont_acozdas8hld.svg#Alibaba-PuHuiTi-Regular') format('svg'); /* iOS 4.1- */\\n        }\\n        \");\n    const A = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(QueueAnim, {\n      animConfig: [{\n        opacity: [1, 0],\n        translateX: [0, 100]\n      }, {\n        opacity: [1, 0],\n        translateX: [0, -100]\n      }],\n      duration: 1000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        width: \"100%\"\n      },\n      key: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: \"30%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://twoyecloud.oss-cn-beijing.aliyuncs.com/gIXJiJtjEhFgmrEVjkNL.png\",\n      style: {\n        height: \"100vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"450px\",\n        margin: \"0 auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        fontFamily: \"webfont\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"\\u6B22\\u8FCE\\u52A0\\u5165\\u6D82\\u53F6\\u4E91\"), React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"40px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"\\u6781\\u7B80\\u5236\\u4F5C \\u4E00\\u952E\\u5448\\u73B0\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"\\u624B\\u673A\\u53F7\\u7801\",\n      validateStatus: this.state.vail_tel.vail,\n      help: this.state.vail_tel.help,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Input, {\n      size: \"large\",\n      onChange: e => this.setState({\n        tel: e.target.value\n      }),\n      maxLength: \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      label: \"\\u9A8C\\u8BC1\\u7801\",\n      validateStatus: this.state.vail_code.vail,\n      help: this.state.vail_code.help,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Search, {\n      enterButton: React.createElement(Button, {\n        type: \"primary\",\n        disabled: this.state.disable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, this.state.btnText),\n      size: \"large\",\n      onSearch: this.send,\n      onChange: vaule => this.setState({\n        code: vaule.target.value\n      }),\n      maxLength: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Button, {\n      shape: \"round\",\n      size: \"large\",\n      style: {\n        width: \"150px\",\n        display: \"block\",\n        margin: \"0 auto\",\n        marginTop: \"30px\"\n      },\n      type: \"primary\",\n      loading: this.state.loading,\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\")), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"\\u5DF2\\u6709\\u8D26\\u53F7\\uFF1F\", React.createElement(\"a\", {\n      href: \"https://login.twoyecloud.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"\\u70B9\\u6B64\\u767B\\u5F55\")), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\\u5219\\u89C6\\u4F5C\\u60A8\\u540C\\u610F\\u548C\\u9075\\u5B88\\u6211\\u4EEC\\u7684\", React.createElement(\"a\", {\n      href: \"https://doc.twoyecloud.com/service\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"\\u300A\\u670D\\u52A1\\u653F\\u7B56\\u300B\"), \"\\u548C\", React.createElement(\"a\", {\n      href: \"https://doc.twoyecloud.com/privacy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"\\u300A\\u9690\\u79C1\\u6743\\u653F\\u7B56\\u300B\"))))))));\n    const B = React.createElement(Spin, {\n      spinning: true,\n      style: {\n        marginTop: \"100px\",\n        width: \"100%\"\n      },\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        height: \"100vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    })))));\n    const C = [B, A];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, C[this.state.step], styles);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:\\myapi\\持续更新\\开放的API服务\\openapi【7.5.00：30】\\openapi\\pre\\register\\src\\App.js"],"names":["React","Form","Input","Button","Spin","Icon","notification","message","Divider","QueueAnim","Search","App","Component","state","step","loading","disable","btnText","tel","code","vail_tel","vail","help","vail_code","send","reg","test","setState","that","fetch","method","headers","body","then","res","json","data","status","success","B","A","setInterval","clearInterval","error","JSON","stringify","catch","e","parse","login","usercode","token","componentWillMount","document","title","duration","description","render","styles","opacity","translateX","width","height","margin","fontFamily","textAlign","marginBottom","target","value","vaule","display","marginTop","C"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'antd/dist/antd.css';\nimport {\n  Form,\n  Input,\n  Button,\n  Spin,\n  Icon,\n  notification,\n  message,\n  Divider\n} from 'antd';\nimport QueueAnim from 'rc-queue-anim';\n\nconst { Search } = Input;\nclass App extends React.Component {\n\n  state = {\n    step: 0,\n    loading: false,\n    disable: false,\n    btnText: \"获取验证码\",\n    tel: \"\",\n    code: \"\",\n    vail_tel: { vail: \"\", help: \"\" },\n    vail_code: { vail: \"\", help: \"\" },\n  }\n\n  componentWillMount() {\n    document.title = \"注册 -  涂叶云\";\n    fetch(`https://openapi.twoyecloud.com/user/preloading`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n      },\n      body: JSON.stringify({})\n    }).then(res => res.json()).then(\n      data => {\n        if (data.status == \"SUCCESS\") this.setState({ step: 1 })\n      }\n    ).catch(function (e) {\n      notification.error({\n        message: '响应错误码：408',\n        duration: null,\n        description:\n          '服务器长时间未给予响应，可能是由于服务器内部错误，也可能是由于您的网络连接不通畅造成的。',\n      });\n    })\n  }\n\n  send = () => {\n    const reg = /0?(13|14|15|17|18|19)[0-9]{9}/;\n    if (!reg.test(this.state.tel)) this.setState({ vail_tel: { vail: \"error\", help: \"请输入正确的手机号码\" } })\n    else {\n      this.setState({ disable: true, vail_tel: { vail: \"\", help: \"\" } });\n      const that = this;\n      fetch(`https://openapi.twoyecloud.com/user/Msg_reg`, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n        },\n        body: this.state.tel\n      }).then(res => res.json()).then(\n        data => {\n          if (data.status == \"SUCCESS\") {\n            message.success(\"验证码已发送，请查收。\");\n            let B = 120;\n\n            let A = setInterval(() => {\n              B--;\n              if (B > 0) {\n                that.setState({ btnText: B + \" S\" });\n              }\n              else {\n                clearInterval(A);\n                that.setState({ disable: false, btnText: \"获取验证码\" })\n              }\n            }, 1000);\n          }\n          else {\n            message.error(JSON.stringify(data));\n            that.setState({ disable: false, btnText: \"获取验证码\" })\n          }\n        }\n      ).catch(function (e) {\n        message.error((JSON.parse(e)).error);\n        that.setState({ disable: false, btnText: \"获取验证码\" })\n      })\n    }\n  }\n\n  login = () => {\n    const reg = /0?(13|14|15|17|18|19)[0-9]{9}/;\n    if (!reg.test(this.state.tel)) this.setState({ vail_tel: { vail: \"error\", help: \"请输入正确的手机号码\" } });\n    else if (this.state.code == \"\") this.setState({ vail_tel: { vail: \"\", help: \"\" }, vail_code: { vail: \"error\", help: \"验证码不可以为空！\" } });\n    else {\n      this.setState({ loading: true, vail_code: { vail: \"\", help: \"\" } });\n      const that = this;\n      fetch(`https://openapi.twoyecloud.com/user/GetToken_0`, {\n        method: 'POST',\n        headers: { 'content-type': 'application/json' },\n        body: JSON.stringify({\n          tel: that.state.tel,\n          usercode: that.state.code\n        })\n      }).then(res => res.json()).then(\n        data => {\n          this.setState({loading:false});\n          if (data.status == \"SUCCESS\") {\n           message.success(data.token)\n          }\n          else {\n           message.error(data.res)\n          }\n        }\n      ).catch(function (e) {\n        this.setState({loading:false});\n        message.error((JSON.parse(e)).error);\n      })\n    }\n  }\n\n  render() {\n\n    const styles = <style jsx>\n      {\n        `\n        body,html{\n          overflow-y:hidden;\n          min-width:960px;\n          background:#f9f9f9;\n          padding:0;\n          margin:0;\n        }\n        @font-face {\n          font-family: 'webfont';\n          font-display: swap;\n          src: url('//at.alicdn.com/t/webfont_acozdas8hld.eot'); /* IE9*/\n          src: url('//at.alicdn.com/t/webfont_acozdas8hld.eot?#iefix') format('embedded-opentype'), /* IE6-IE8 */\n          url('//at.alicdn.com/t/webfont_acozdas8hld.woff2') format('woff2'),\n          url('//at.alicdn.com/t/webfont_acozdas8hld.woff') format('woff'), /* chrome、firefox */\n          url('//at.alicdn.com/t/webfont_acozdas8hld.ttf') format('truetype'), /* chrome、firefox、opera、Safari, Android, iOS 4.2+*/\n          url('//at.alicdn.com/t/webfont_acozdas8hld.svg#Alibaba-PuHuiTi-Regular') format('svg'); /* iOS 4.1- */\n        }\n        `\n      }\n    </style>\n\n    const A = <div>\n      <QueueAnim\n        animConfig={[\n          { opacity: [1, 0], translateX: [0, 100] },\n          { opacity: [1, 0], translateX: [0, -100] }\n        ]}\n        duration={1000}\n      >\n        <table style={{ width: \"100%\" }} key=\"0\">\n          <tr>\n            <td style={{ width: \"30%\" }}>\n              <img src=\"https://twoyecloud.oss-cn-beijing.aliyuncs.com/gIXJiJtjEhFgmrEVjkNL.png\" style={{ height: \"100vh\" }} />\n            </td>\n            <td>\n              <div style={{ width: \"450px\", margin: \"0 auto\" }}>\n                <h1 style={{ fontFamily: \"webfont\", textAlign: \"center\" }}>欢迎加入涂叶云</h1>\n                <p style={{ textAlign: \"center\", marginBottom: \"40px\" }}>极简制作 一键呈现</p>\n                <Form>\n                  <Form.Item\n                    label=\"手机号码\"\n                    validateStatus={this.state.vail_tel.vail}\n                    help={this.state.vail_tel.help}\n                  >\n                    <Input size=\"large\" onChange={e => this.setState({ tel: e.target.value })} maxLength=\"11\" />\n                  </Form.Item>\n                  <Form.Item\n                    label=\"验证码\"\n                    validateStatus={this.state.vail_code.vail}\n                    help={this.state.vail_code.help}\n                  >\n                    <Search\n                      enterButton={<Button type=\"primary\" disabled={this.state.disable}>{this.state.btnText}</Button>}\n                      size=\"large\"\n                      onSearch={this.send}\n                      onChange={vaule => this.setState({ code: vaule.target.value })}\n                      maxLength=\"6\"\n                    />\n                  </Form.Item>\n                  <Form.Item>\n                    <Button\n                      shape=\"round\"\n                      size=\"large\"\n                      style={{ width: \"150px\", display: \"block\", margin: \"0 auto\", marginTop: \"30px\" }}\n                      type=\"primary\"\n                      loading={this.state.loading}\n                      onClick={this.login}\n                    >注册</Button>\n                  </Form.Item>\n                  <Form.Item>\n\n                  </Form.Item>\n                </Form>\n                <p style={{ textAlign: \"center\" }}>已有账号？<a href=\"https://login.twoyecloud.com\">点此登录</a></p>\n                <Divider/>\n                <p style={{textAlign:\"center\"}}>注册则视作您同意和遵守我们的<a href=\"https://doc.twoyecloud.com/service\">《服务政策》</a>和<a href=\"https://doc.twoyecloud.com/privacy\">《隐私权政策》</a></p>\n              </div>\n            </td>\n          </tr>\n        </table>\n      </QueueAnim>\n    </div>;\n\n    const B = <Spin spinning style={{ marginTop: \"100px\", width: \"100%\" }} size=\"large\" >\n      <table style={{ width: \"100%\", height: \"100%\" }}>\n        <tr>\n          <td>\n            <div style={{ height: \"100vh\" }}></div>\n          </td>\n        </tr>\n      </table>\n    </Spin>\n\n    const C = [B, A];\n\n    return (\n      <div>\n        {C[this.state.step]}\n        {styles}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}